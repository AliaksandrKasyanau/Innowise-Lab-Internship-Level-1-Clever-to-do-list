(this["webpackJsonpclever-to-do-list"]=this["webpackJsonpclever-to-do-list"]||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(24),s=n.n(a),r=(n(41),n(42),n(14)),o=n.n(r),i=n(16),l=n(3),u=n(17);n(30),n(32);n(45).config();var d=u.a.initializeApp({apiKey:"AIzaSyDsMq2U6gbqwrNtplpyv4LrNkg7vGWpznY",authDomain:"clever-to-do-list-6868a.firebaseapp.com",databaseURL:"https://clever-to-do-list-6868a-default-rtdb.europe-west1.firebasedatabase.app",projectId:"clever-to-do-list-6868a",storageBucket:"clever-to-do-list-6868a.appspot.com",messagingSenderId:"571787972835",appId:"1:571787972835:web:e75a8b7d8f5d22012535d6"}),j=u.a.auth(),b=u.a.firestore(),O=d.firestore(),h=n(27),p=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,b.doc("users/".concat(t)).get();case 5:return n=e.sent,e.abrupt("return",Object(h.a)({uid:t},n.data()));case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching user",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(i.a)(o.a.mark((function e(t,n){var c,a,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return c=b.doc("users/".concat(t.uid)),e.next=5,c.get();case 5:if(e.sent.exists){e.next=16;break}return a=t.email,s=t.displayName,r=t.photoURL,e.prev=8,e.next=11,c.set(Object(h.a)({displayName:s,email:a,photoURL:r},n));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.error("Error creating user document",e.t0);case 16:return e.abrupt("return",p(t.uid));case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t,n){return e.apply(this,arguments)}}(),m=n(1),v=Object(c.createContext)({user:null}),f=function(e){var t=Object(c.useState)(null),n=Object(l.a)(t,2),a=n[0],s=n[1];return Object(c.useEffect)((function(){j.onAuthStateChanged(function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:n=e.sent,s(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(m.jsx)(v.Provider,{value:a,children:e.children})},g=n(7),C=(n(54),n(10)),N=n(65),k=n(66),w=n(67),y=u.a.auth(),S=new u.a.auth.GoogleAuthProvider,P=function(){y.signInWithPopup(S)},T=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(l.a)(s,2),o=r[0],i=r[1],u=Object(c.useState)(null),d=Object(l.a)(u,2)[1],b=Object(c.useState)(null),O=Object(l.a)(b,2)[1],h=function(e){var t=e.currentTarget,n=t.name,c=t.value;"userEmail"===n?a(c):"userPassword"===n&&i(c)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(N.a,{children:Object(m.jsx)(k.a,{children:Object(m.jsxs)(w.a,{className:"auth-wrapper",xs:12,children:[Object(m.jsx)("div",{className:"icon",children:"login"}),Object(m.jsx)("h1",{children:"Sign In"}),Object(m.jsxs)("form",{className:"form",children:[Object(m.jsx)("input",{type:"email",className:"input",name:"userEmail",value:n,placeholder:"Email",id:"userEmail",onChange:function(e){return h(e)}}),Object(m.jsx)("input",{type:"password",className:"input",name:"userPassword",value:o,placeholder:"Password",id:"userPassword",onChange:function(e){return h(e)}}),Object(m.jsx)(g.a,{to:"passwordReset",className:"link",children:"Forgot Password?"}),Object(m.jsx)("button",{className:"button primary-button",onClick:function(e){!function(e,t,n){e.preventDefault(),j.signInWithEmailAndPassword(t,n).then((function(){O(C.b.success("You are logged in!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(){d(C.b.error("Invalid credentials!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}(e,n,o)},children:"Sign In"})]}),Object(m.jsxs)("button",{className:"button google-button",onClick:function(){P()},children:[" ","Sign in with Google"]}),Object(m.jsxs)("p",{children:["Don`t have an account?"," ",Object(m.jsx)(g.a,{to:"signUp",className:"link",children:"Sign up"})," "]})]})})})})},E=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(l.a)(s,2),u=r[0],d=r[1],b=Object(c.useState)(""),O=Object(l.a)(b,2),h=O[0],p=O[1],v=Object(c.useState)(null),f=Object(l.a)(v,2)[1],y=Object(c.useState)(null),S=Object(l.a)(y,2)[1],T=Object(c.useState)(null),E=Object(l.a)(T,2)[1],D=function(){var e=Object(i.a)(o.a.mark((function e(t,n,c){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,j.createUserWithEmailAndPassword(n,c);case 4:s=e.sent,r=s.user,x(r,{displayName:h}),S(C.b.success("Account has been created!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),E(C.b.success("You are logged in!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),f(C.b.error("Invalid credentials!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 14:a(""),d(""),p(""),Object(g.c)("/");case 18:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n,c){return e.apply(this,arguments)}}(),M=function(e){var t=e.currentTarget,n=t.name,c=t.value;"userEmail"===n?a(c):"userPassword"===n?d(c):"displayName"===n&&p(c)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(N.a,{children:Object(m.jsx)(k.a,{children:Object(m.jsxs)(w.a,{className:"auth-wrapper",xs:12,children:[Object(m.jsx)("div",{className:"icon",children:"how_to_reg"}),Object(m.jsx)("h1",{children:"Sign Up"}),Object(m.jsxs)("form",{className:"form",children:[Object(m.jsx)("input",{type:"text",className:"input",name:"displayName",value:h,placeholder:"Your Name",id:"displayName",onChange:function(e){return M(e)}}),Object(m.jsx)("input",{type:"email",className:"input",name:"userEmail",value:n,placeholder:"Email",id:"userEmail",onChange:function(e){return M(e)}}),Object(m.jsx)("input",{type:"password",className:"input",name:"userPassword",value:u,placeholder:"Password",id:"userPassword",onChange:function(e){return M(e)}}),Object(m.jsx)("button",{className:"button primary-button",onClick:function(e){D(e,n,u)},children:"Sign Up"})]}),Object(m.jsx)("button",{onClick:function(){try{P()}catch(e){console.error("Error signing in with Google",e)}Object(g.c)("/")},className:"button google-button",children:"Sign In with Google"}),Object(m.jsxs)("p",{children:["Already have an account?"," ",Object(m.jsx)(g.a,{to:"/",className:"link",children:"Sign in here"})," "]})]})})})})},D=(n(55),n(35)),M=n(68),I=n(73);var B=function(e){var t=e.currentMonth,n=e.setCurrentMonth;return Object(m.jsxs)("div",{className:"month-wrapper",children:[Object(m.jsx)("div",{className:"arrow",children:Object(m.jsx)("div",{className:"icon",onClick:function(){n(Object(M.a)(t,1))},children:"chevron_left"})}),Object(m.jsx)("div",{children:Object(m.jsx)("span",{children:Object(I.a)(t,"MMMM yyyy")})}),Object(m.jsx)("div",{className:"arrow",onClick:function(){n(Object(D.a)(t,1))},children:Object(m.jsx)("div",{className:"icon",children:"chevron_right"})})]})},F=(n(56),n(74)),A=n(69),H=n(70),_=n(71),U=n(72),q=n(36),R=n.n(q),L=Object(c.createContext)(),G=Object(c.createContext)(),V=Object(I.a)(new Date,"dd MMMM yyyy"),Y=function(e){var t=Object(c.useState)(V),n=Object(l.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(null),o=Object(l.a)(r,2),i=o[0],u=o[1];return Object(m.jsx)(G.Provider,{value:[a,s],children:Object(m.jsx)(L.Provider,{value:[i,u],children:e.children})})};var W=function(e){var t=e.currentMonth,n=Object(c.useContext)(G),a=Object(l.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)(new Date),i=Object(l.a)(o,2),u=i[0],d=i[1];return Object(c.useEffect)((function(){document.querySelector(".selected").scrollIntoView({behavior:"smooth"})}),[]),Object(F.a)(new Date(s),u)||null===s||d(new Date(s)),Object(m.jsx)(R.a,{alignCenter:!1,scrollToSelected:!0,data:function(){for(var e=Object(A.a)(t),n=Object(A.a)(e),c=Object(H.a)(Object(_.a)(t)),a=[],s=n,o="",i=function(e){o=Object(I.a)(s,"d");var t=s;a.push(Object(m.jsxs)("div",{className:"day ".concat(Object(F.a)(s,u)?"selected":""),onClick:function(){return function(e){d(e),r(Object(I.a)(e,"dd MMMM yyyy"))}(t)},children:[Object(m.jsx)("span",{className:"number",children:o}),Object(m.jsx)("div",{className:"days",children:Object(I.a)(s,"eee")})]},s)),s=Object(U.a)(s,1)},l=0;l<c;l++)i();return a}(),menuStyle:!1})};n(57);var z=function(){var e=Object(c.useState)(new Date),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(m.jsxs)("div",{className:"calendar",children:[Object(m.jsx)(B,{currentMonth:n,setCurrentMonth:a}),Object(m.jsx)(W,{currentMonth:n})]})},J=(n(58),function(){var e=Object(c.useContext)(G),t=Object(l.a)(e,1)[0],n=Object(c.useState)([]),a=Object(l.a)(n,2),s=a[0],r=a[1],o=Object(c.useContext)(L),i=Object(l.a)(o,2)[1],u=Object(c.useContext)(v);Object(c.useEffect)((function(){var e=b.collection("todos").where("userId","==",u.uid).where("date","==",t).onSnapshot((function(e){r(e.docs.map((function(e){return{date:t,id:e.id,title:e.data().title,todo:e.data().todo,status:e.data().status}})))}));return function(){e()}}),[t]);var d=function(e){O.collection("todos").doc(e.id).update({status:!e.status})};return Object(m.jsx)(m.Fragment,{children:s.length>0?Object(m.jsx)("div",{className:"todo-list-wrapper",children:Object(m.jsx)("div",{className:"todo-list",children:s.map((function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"todo",children:[Object(m.jsx)("div",{className:"status-wrapper",children:!1===e.status?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"icon status-unchecked",onClick:function(){d(e)},children:"radio_button_unchecked"})}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"icon status-checked",onClick:function(){d(e)},children:"check_circle"})})}),!1===e.status?Object(m.jsx)(g.a,{className:"todo-link",to:"todo",onClick:function(){i(e)},children:e.title},e.id):Object(m.jsx)(g.a,{className:"todo-link todo-link-done",to:"todo",onClick:function(){i(e)},children:e.title},e.id)]})})}))})}):Object(m.jsx)("div",{className:"empty-list",children:Object(m.jsx)("h2",{children:"Task list is empty"})})})});n(59);var K=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2)[1];return Object(m.jsxs)("div",{className:"todo-list-footer",children:[Object(m.jsxs)("button",{className:"button",onClick:function(){Object(g.c)("add-todo")},children:[Object(m.jsx)("p",{className:"icon",children:"add_circle"})," Add a New Task"]}),Object(m.jsxs)("button",{className:"button sign-out",onClick:function(){j.signOut().then((function(){t(C.b.success("You are logged off!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},children:[Object(m.jsx)("p",{className:"icon",children:"logout"}),"Sign out"]})]})};var Q=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(N.a,{children:Object(m.jsx)(k.a,{children:Object(m.jsxs)(w.a,{xs:12,children:[Object(m.jsx)(z,{}),Object(m.jsx)(J,{}),Object(m.jsx)(K,{})]})})})})},X=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(null),r=Object(l.a)(s,2)[1],o=Object(c.useState)(null),i=Object(l.a)(o,2)[1];return Object(m.jsx)("div",{className:"auth-wrapper",children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("div",{className:"icon",children:"autorenew"}),Object(m.jsx)("h1",{children:"Reset your Password"}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("form",{className:"form",children:[Object(m.jsx)("input",{type:"email",name:"userEmail",id:"userEmail",value:n,placeholder:"Input your email",onChange:function(e){var t=e.currentTarget,n=t.name,c=t.value;"userEmail"===n&&a(c)},className:"input"}),Object(m.jsx)("button",{className:"button primary-button fp-button",onClick:function(e){!function(e){e.preventDefault(),j.sendPasswordResetEmail(n).then((function(){r(C.b.success("Email has been sent!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),setTimeout((function(){r(null)}),5e3)})).catch((function(){i(C.b.error("Invalid credentials"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}(e)},children:"Send me a reset link"})]}),Object(m.jsx)(g.a,{to:"/",className:"link",children:"\u2190 back to sign in page"})]})]})})};n(60);var Z=function(){var e=Object(c.useContext)(L),t=Object(l.a)(e,1)[0],n=Object(c.useState)(null),a=Object(l.a)(n,2)[1];return null==t&&Object(g.c)(-1),t?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"status-wrapper-todo",children:t.status?Object(m.jsx)("div",{className:"icon status-checked",children:"check_circle "}):Object(m.jsx)("div",{className:"icon status-unchecked",children:"radio_button_unchecked"})}),Object(m.jsxs)("div",{className:"todo-wrapper",children:[Object(m.jsx)("h2",{children:t.title}),Object(m.jsx)("textarea",{rows:"5",disabled:!0,value:t.todo}),Object(m.jsx)("button",{className:"button",onClick:function(){Object(g.c)("edit-todo")},children:"Edit Task"}),Object(m.jsx)("button",{className:"button",onClick:function(){var e;e=t.id,b.collection("todos").doc(e).delete().then((function(){a(C.b.success("Task was deleted!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})),Object(g.c)(-1)},children:"Delete Task"}),Object(m.jsx)("button",{className:"button",type:"submit",onClick:function(){Object(g.c)(-1)},children:"Back"})]})]}):null},$=(n(61),function(){var e=Object(c.useContext)(G),t=Object(l.a)(e,1)[0],n=Object(c.useState)(""),a=Object(l.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)(""),i=Object(l.a)(o,2),u=i[0],d=i[1],j=Object(c.useState)(null),b=Object(l.a)(j,2)[1],h=Object(c.useContext)(v);return Object(m.jsxs)("div",{className:"add-todo-wrapper",children:[Object(m.jsx)("h1",{children:"Create a Task"}),Object(m.jsxs)("form",{noValidate:!0,children:[Object(m.jsx)("input",{id:"todoTitle",label:"ToDo Title",placeholder:"ToDo Title",name:"todoTitle",required:!0,value:s,onChange:function(e){return r(e.target.value)}}),Object(m.jsx)("textarea",{margin:"normal",required:!0,id:"todo",label:"ToDo",placeholder:"ToDo",name:"todo",value:u,onChange:function(e){return d(e.target.value)}}),Object(m.jsx)("button",{className:"button",type:"submit",onClick:function(e){e.preventDefault(),O.collection("todos").add({userId:h.uid,date:t,title:s,todo:u,status:!1}),r(""),d(""),b(C.b.success("Task was created!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},disabled:!u||!s,children:"Add Todo"}),Object(m.jsx)("button",{className:"button back-button",onClick:function(){return Object(g.c)("/")},children:"Back"})]})]})});var ee=function(){var e=Object(c.useContext)(L),t=Object(l.a)(e,1)[0];return console.log(t),Object(m.jsx)("div",{className:"todo-wrapper",children:Object(m.jsx)($,{})})};n(62);var te=function(){var e=Object(c.useContext)(L),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(n?n.title:""),r=Object(l.a)(s,2),o=r[0],i=r[1],u=Object(c.useState)(n?n.todo:""),d=Object(l.a)(u,2),j=d[0],b=d[1],h=Object(c.useState)(null),p=Object(l.a)(h,2)[1];return null==n&&Object(g.c)(-1),n?Object(m.jsxs)("div",{className:"todo-wrapper",children:[Object(m.jsx)("h1",{children:"Edit a Task"}),Object(m.jsxs)("form",{noValidate:!0,children:[Object(m.jsx)("input",{id:"todoTitle",label:"ToDo Title",name:"todoTitle",required:!0,defaultValue:o,onChange:function(e){return i(e.target.value)}}),Object(m.jsx)("textarea",{margin:"normal",required:!0,id:"todo",label:"ToDo",placeholder:"ToDo",name:"todo",defaultValue:j,onChange:function(e){return b(e.target.value)}}),Object(m.jsx)("button",{className:"button",type:"submit",onClick:function(e){e.preventDefault(),O.collection("todos").doc(n.id).update({title:o,todo:j}),O.collection("todos").doc(n.id).get().then((function(e){e.exists?a({date:e.day,id:e.id,title:e.data().title,todo:e.data().todo}):console.log("No such document!")})),Object(g.c)(-1),i(""),b(""),p((C.b.success("Task was updated!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}))},disabled:!j&&!o,children:"Save Changes"}),Object(m.jsx)("button",{className:"button",type:"submit",onClick:function(){Object(g.c)(-1)},children:"Sheduler"})]})]}):null};var ne=function(){return Object(c.useContext)(v)?Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(Y,{children:Object(m.jsxs)(g.b,{children:[Object(m.jsx)(Q,{path:"/"}),Object(m.jsx)(Z,{path:"todo"}),Object(m.jsx)(ee,{path:"add-todo"}),Object(m.jsx)(te,{path:"edit-todo"})]})})}):Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)(g.b,{children:[Object(m.jsx)(T,{path:"/"}),Object(m.jsx)(E,{path:"signUp"}),Object(m.jsx)(X,{path:"passwordReset"})]})})};n(63);var ce=function(){return Object(m.jsxs)(f,{children:[Object(m.jsx)(C.a,{}),Object(m.jsx)(ne,{})]})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};s.a.render(Object(m.jsx)(ce,{}),document.getElementById("root")),ae()}},[[64,1,2]]]);
//# sourceMappingURL=main.d80ee365.chunk.js.map