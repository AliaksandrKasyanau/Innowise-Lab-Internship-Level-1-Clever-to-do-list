(this["webpackJsonpclever-to-do-list"]=this["webpackJsonpclever-to-do-list"]||[]).push([[0],{41:function(e,t,c){},42:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(24),s=c.n(a),r=(c(41),c(42),c(14)),o=c.n(r),i=c(16),l=c(3),u=c(17);c(30),c(32);c(45).config();var d=u.a.initializeApp({apiKey:"AIzaSyDsMq2U6gbqwrNtplpyv4LrNkg7vGWpznY",authDomain:"clever-to-do-list-6868a.firebaseapp.com",databaseURL:"https://clever-to-do-list-6868a-default-rtdb.europe-west1.firebasedatabase.app",projectId:"clever-to-do-list-6868a",storageBucket:"clever-to-do-list-6868a.appspot.com",messagingSenderId:"571787972835",appId:"1:571787972835:web:e75a8b7d8f5d22012535d6"}),j=u.a.auth(),b=u.a.firestore(),O=d.firestore(),h=c(27),p=function(){var e=Object(i.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,b.doc("users/".concat(t)).get();case 5:return c=e.sent,e.abrupt("return",Object(h.a)({uid:t},c.data()));case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching user",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(i.a)(o.a.mark((function e(t,c){var n,a,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=b.doc("users/".concat(t.uid)),e.next=5,n.get();case 5:if(e.sent.exists){e.next=16;break}return a=t.email,s=t.displayName,r=t.photoURL,e.prev=8,e.next=11,n.set(Object(h.a)({displayName:s,email:a,photoURL:r},c));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.error("Error creating user document",e.t0);case 16:return e.abrupt("return",p(t.uid));case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t,c){return e.apply(this,arguments)}}(),m=c(1),v=Object(n.createContext)({user:null}),f=function(e){var t=Object(n.useState)(null),c=Object(l.a)(t,2),a=c[0],s=c[1];return Object(n.useEffect)((function(){j.onAuthStateChanged(function(){var e=Object(i.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:c=e.sent,s(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(m.jsx)(v.Provider,{value:a,children:e.children})},g=c(7),C=(c(54),c(10)),N=c(65),k=c(66),w=c(67),y=u.a.auth(),S=new u.a.auth.GoogleAuthProvider,P=function(){y.signInWithPopup(S)},T=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(l.a)(s,2),o=r[0],i=r[1],u=Object(n.useState)(null),d=Object(l.a)(u,2)[1],b=Object(n.useState)(null),O=Object(l.a)(b,2)[1],h=function(e){var t=e.currentTarget,c=t.name,n=t.value;"userEmail"===c?a(n):"userPassword"===c&&i(n)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(N.a,{children:Object(m.jsx)(k.a,{children:Object(m.jsxs)(w.a,{className:"auth-wrapper",xs:12,children:[Object(m.jsx)("div",{className:"icon",children:"login"}),Object(m.jsx)("h1",{children:"Sign In"}),Object(m.jsxs)("form",{className:"form",children:[Object(m.jsx)("input",{type:"email",className:"input",name:"userEmail",value:c,placeholder:"Email",id:"userEmail",onChange:function(e){return h(e)}}),Object(m.jsx)("input",{type:"password",className:"input",name:"userPassword",value:o,placeholder:"Password",id:"userPassword",onChange:function(e){return h(e)}}),Object(m.jsx)(g.a,{to:"passwordReset",className:"link",children:"Forgot Password?"}),Object(m.jsx)("button",{className:"button primary-button",onClick:function(e){!function(e,t,c){e.preventDefault(),j.signInWithEmailAndPassword(t,c).then((function(){O(C.b.success("You are logged in!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(){d(C.b.error("Invalid credentials!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}(e,c,o)},children:"Sign In"})]}),Object(m.jsxs)("button",{className:"button google-button",onClick:function(){P()},children:[" ","Sign in with Google"]}),Object(m.jsxs)("p",{children:["Don`t have an account?"," ",Object(m.jsx)(g.a,{to:"signUp",className:"link",children:"Sign up"})," "]})]})})})})},E=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(l.a)(s,2),u=r[0],d=r[1],b=Object(n.useState)(""),O=Object(l.a)(b,2),h=O[0],p=O[1],v=Object(n.useState)(null),f=Object(l.a)(v,2)[1],y=Object(n.useState)(null),S=Object(l.a)(y,2)[1],T=Object(n.useState)(null),E=Object(l.a)(T,2)[1],D=function(){var e=Object(i.a)(o.a.mark((function e(t,c,n){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,j.createUserWithEmailAndPassword(c,n);case 4:s=e.sent,r=s.user,x(r,{displayName:h}),S(C.b.success("Account has been created!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),E(C.b.success("You are logged in!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),f(C.b.error("Invalid credentials!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 14:a(""),d(""),p(""),Object(g.c)("/");case 18:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,c,n){return e.apply(this,arguments)}}(),M=function(e){var t=e.currentTarget,c=t.name,n=t.value;"userEmail"===c?a(n):"userPassword"===c?d(n):"displayName"===c&&p(n)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(N.a,{children:Object(m.jsx)(k.a,{children:Object(m.jsxs)(w.a,{className:"auth-wrapper",xs:12,children:[Object(m.jsx)("div",{className:"icon",children:"how_to_reg"}),Object(m.jsx)("h1",{children:"Sign Up"}),Object(m.jsxs)("form",{className:"form",children:[Object(m.jsx)("input",{type:"text",className:"input",name:"displayName",value:h,placeholder:"Your Name",id:"displayName",onChange:function(e){return M(e)}}),Object(m.jsx)("input",{type:"email",className:"input",name:"userEmail",value:c,placeholder:"Email",id:"userEmail",onChange:function(e){return M(e)}}),Object(m.jsx)("input",{type:"password",className:"input",name:"userPassword",value:u,placeholder:"Password",id:"userPassword",onChange:function(e){return M(e)}}),Object(m.jsx)("button",{className:"button primary-button",onClick:function(e){D(e,c,u)},children:"Sign Up"})]}),Object(m.jsx)("button",{onClick:function(){try{P()}catch(e){console.error("Error signing in with Google",e)}Object(g.c)("/")},className:"button google-button",children:"Sign In with Google"}),Object(m.jsxs)("p",{children:["Already have an account?"," ",Object(m.jsx)(g.a,{to:"/",className:"link",children:"Sign in here"})," "]})]})})})})},D=(c(55),c(35)),M=c(68),I=c(73);var B=function(e){var t=e.currentMonth,c=e.setCurrentMonth;return Object(m.jsxs)("div",{className:"month-wrapper",children:[Object(m.jsx)("div",{className:"arrow",children:Object(m.jsx)("div",{className:"icon",onClick:function(){c(Object(M.a)(t,1))},children:"chevron_left"})}),Object(m.jsx)("div",{children:Object(m.jsx)("span",{children:Object(I.a)(t,"MMMM yyyy")})}),Object(m.jsx)("div",{className:"arrow",onClick:function(){c(Object(D.a)(t,1))},children:Object(m.jsx)("div",{className:"icon",children:"chevron_right"})})]})},F=(c(56),c(74)),A=c(69),H=c(70),_=c(71),U=c(72),q=c(36),R=c.n(q),L=Object(n.createContext)(),G=Object(n.createContext)(),V=Object(I.a)(new Date,"dd MMMM yyyy"),Y=function(e){var t=Object(n.useState)(V),c=Object(l.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(null),o=Object(l.a)(r,2),i=o[0],u=o[1];return Object(m.jsx)(G.Provider,{value:[a,s],children:Object(m.jsx)(L.Provider,{value:[i,u],children:e.children})})};var W=function(e){var t=e.currentMonth,c=Object(n.useContext)(G),a=Object(l.a)(c,2),s=a[0],r=a[1],o=Object(n.useState)(new Date),i=Object(l.a)(o,2),u=i[0],d=i[1];return Object(n.useEffect)((function(){document.querySelector(".selected").scrollIntoView({behavior:"smooth"})}),[]),Object(F.a)(new Date(s),u)||null===s||d(new Date(s)),Object(m.jsx)(R.a,{alignCenter:!1,scrollToSelected:!0,data:function(){for(var e=Object(A.a)(t),c=Object(A.a)(e),n=Object(H.a)(Object(_.a)(t)),a=[],s=c,o="",i=function(e){o=Object(I.a)(s,"d");var t=s;a.push(Object(m.jsxs)("div",{className:"day ".concat(Object(F.a)(s,u)?"selected":""),onClick:function(){return function(e){d(e),r(Object(I.a)(e,"dd MMMM yyyy"))}(t)},children:[Object(m.jsx)("span",{className:"number",children:o}),Object(m.jsx)("div",{className:"days",children:Object(I.a)(s,"eee")})]},s)),s=Object(U.a)(s,1)},l=0;l<n;l++)i();return a}(),menuStyle:!1})};c(57);var z=function(){var e=Object(n.useState)(new Date),t=Object(l.a)(e,2),c=t[0],a=t[1];return Object(m.jsxs)("div",{className:"calendar",children:[Object(m.jsx)(B,{currentMonth:c,setCurrentMonth:a}),Object(m.jsx)(W,{currentMonth:c})]})},J=(c(58),function(){var e=Object(n.useContext)(G),t=Object(l.a)(e,1)[0],c=Object(n.useState)([]),a=Object(l.a)(c,2),s=a[0],r=a[1],o=Object(n.useContext)(L),i=Object(l.a)(o,2)[1],u=Object(n.useContext)(v);Object(n.useEffect)((function(){var e=b.collection("todos").where("userId","==",u.uid).where("date","==",t).onSnapshot((function(e){r(e.docs.map((function(e){return{date:t,id:e.id,title:e.data().title,todo:e.data().todo,status:e.data().status}})))}));return function(){e()}}),[t]);var d=function(e){O.collection("todos").doc(e.id).update({status:!e.status})};return Object(m.jsx)(m.Fragment,{children:s.length>0?Object(m.jsx)("div",{className:"todo-list-wrapper",children:Object(m.jsx)("div",{className:"todo-list",children:s.map((function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"todo",children:[Object(m.jsx)("div",{className:"status-wrapper",children:!1===e.status?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"icon status-unchecked",onClick:function(){d(e)},children:"radio_button_unchecked"})}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"icon status-checked",onClick:function(){d(e)},children:"check_circle"})})}),!1===e.status?Object(m.jsx)(g.a,{className:"todo-link",to:"todo",onClick:function(){i(e)},children:e.title},e.id):Object(m.jsx)(g.a,{className:"todo-link todo-link-done",to:"todo",onClick:function(){i(e)},children:e.title},e.id)]})})}))})}):Object(m.jsx)("div",{className:"empty-list",children:Object(m.jsx)("h2",{children:"Task list is empty"})})})});c(59);var K=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2)[1];return Object(m.jsxs)("div",{className:"todo-list-footer",children:[Object(m.jsxs)("button",{className:"button",onClick:function(){Object(g.c)("add-todo")},children:[Object(m.jsx)("p",{className:"icon",children:"add_circle"})," Add a New Task"]}),Object(m.jsxs)("button",{className:"button sign-out",onClick:function(){j.signOut().then((function(){t(C.b.success("You are logged off!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},children:[Object(m.jsx)("p",{className:"icon",children:"logout"}),"Sign out"]})]})};var Q=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(N.a,{children:Object(m.jsx)(k.a,{children:Object(m.jsxs)(w.a,{xs:12,children:[Object(m.jsx)(z,{}),Object(m.jsx)(J,{}),Object(m.jsx)(K,{})]})})})})},X=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(null),r=Object(l.a)(s,2)[1],o=Object(n.useState)(null),i=Object(l.a)(o,2)[1];return Object(m.jsx)("div",{className:"auth-wrapper",children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("div",{className:"icon",children:"autorenew"}),Object(m.jsx)("h1",{children:"Reset your Password"}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("form",{className:"form",children:[Object(m.jsx)("input",{type:"email",name:"userEmail",id:"userEmail",value:c,placeholder:"Input your email",onChange:function(e){var t=e.currentTarget,c=t.name,n=t.value;"userEmail"===c&&a(n)},className:"input"}),Object(m.jsx)("button",{className:"button primary-button fp-button",onClick:function(e){!function(e){e.preventDefault(),j.sendPasswordResetEmail(c).then((function(){r(C.b.success("Email has been sent!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),setTimeout((function(){r(null)}),5e3)})).catch((function(){i(C.b.error("Invalid credentials"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}(e)},children:"Send me a reset link"})]}),Object(m.jsx)(g.a,{to:"/",className:"link",children:"\u2190 back to sign in page"})]})]})})};c(60);var Z=function(){var e=Object(n.useContext)(L),t=Object(l.a)(e,1)[0],c=Object(n.useState)(null),a=Object(l.a)(c,2)[1];return null==t&&Object(g.c)(-1),t?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"status-wrapper-todo",children:t.status?Object(m.jsx)("div",{className:"icon status-checked",children:"check_circle "}):Object(m.jsx)("div",{className:"icon status-unchecked",children:"radio_button_unchecked"})}),Object(m.jsxs)("div",{className:"todo-wrapper",children:[Object(m.jsx)("h2",{children:t.title}),Object(m.jsx)("textarea",{rows:"5",disabled:!0,value:t.todo}),Object(m.jsx)("button",{className:"button",onClick:function(){Object(g.c)("edit-todo")},children:"Edit Task"}),Object(m.jsx)("button",{className:"button",onClick:function(){var e;e=t.id,b.collection("todos").doc(e).delete().then((function(){a(C.b.success("Task was deleted!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})),Object(g.c)(-1)},children:"Delete Task"}),Object(m.jsx)("button",{className:"button",type:"submit",onClick:function(){Object(g.c)(-1)},children:"Back"})]})]}):null},$=(c(61),function(){var e=Object(n.useContext)(G),t=Object(l.a)(e,1)[0],c=Object(n.useState)(""),a=Object(l.a)(c,2),s=a[0],r=a[1],o=Object(n.useState)(""),i=Object(l.a)(o,2),u=i[0],d=i[1],j=Object(n.useState)(null),b=Object(l.a)(j,2)[1],h=Object(n.useContext)(v);return Object(m.jsxs)("div",{className:"add-todo-wrapper",children:[Object(m.jsx)("h1",{children:"Create a Task"}),Object(m.jsxs)("form",{noValidate:!0,children:[Object(m.jsx)("input",{id:"todoTitle",label:"ToDo Title",placeholder:"ToDo Title",name:"todoTitle",required:!0,value:s,onChange:function(e){return r(e.target.value)}}),Object(m.jsx)("textarea",{margin:"normal",required:!0,id:"todo",label:"ToDo",placeholder:"ToDo",name:"todo",value:u,onChange:function(e){return d(e.target.value)}}),Object(m.jsx)("button",{className:"button",type:"submit",onClick:function(e){e.preventDefault(),O.collection("todos").add({userId:h.uid,date:t,title:s,todo:u,status:!1}),r(""),d(""),b(C.b.success("Task was created!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},disabled:!u||!s,children:"Add Todo"}),Object(m.jsx)("button",{className:"button back-button",onClick:function(){return Object(g.c)("/")},children:"Back"})]})]})});var ee=function(){var e=Object(n.useContext)(L),t=Object(l.a)(e,1)[0];return console.log(t),Object(m.jsx)("div",{className:"todo-wrapper",children:Object(m.jsx)($,{})})};c(62);var te=function(){var e=Object(n.useContext)(L),t=Object(l.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(c?c.title:""),r=Object(l.a)(s,2),o=r[0],i=r[1],u=Object(n.useState)(c?c.todo:""),d=Object(l.a)(u,2),j=d[0],b=d[1],h=Object(n.useState)(null),p=Object(l.a)(h,2)[1];return null==c&&Object(g.c)(-1),c?Object(m.jsxs)("div",{className:"todo-wrapper",children:[Object(m.jsx)("h1",{children:"Edit a Task"}),Object(m.jsxs)("form",{noValidate:!0,children:[Object(m.jsx)("input",{id:"todoTitle",label:"ToDo Title",name:"todoTitle",required:!0,defaultValue:o,onChange:function(e){return i(e.target.value)}}),Object(m.jsx)("textarea",{margin:"normal",required:!0,id:"todo",label:"ToDo",placeholder:"ToDo",name:"todo",defaultValue:j,onChange:function(e){return b(e.target.value)}}),Object(m.jsx)("button",{className:"button",type:"submit",onClick:function(e){e.preventDefault(),O.collection("todos").doc(c.id).update({title:o,todo:j}),O.collection("todos").doc(c.id).get().then((function(e){e.exists?a({date:e.day,id:e.id,title:e.data().title,todo:e.data().todo}):console.log("No such document!")})),Object(g.c)(-1),i(""),b(""),p((C.b.success("Task was updated!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}))},disabled:!j&&!o,children:"Save Changes"}),Object(m.jsx)("button",{className:"button",type:"submit",onClick:function(){Object(g.c)(-1)},children:"Sheduler"})]})]}):null};var ce=function(){return Object(n.useContext)(v)?Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(Y,{children:Object(m.jsxs)(g.b,{children:[Object(m.jsx)(Q,{path:"/"}),Object(m.jsx)(Z,{path:"todo"}),Object(m.jsx)(ee,{path:"add-todo"}),Object(m.jsx)(te,{path:"edit-todo"}),Object(m.jsx)(Q,{path:"/*"})]})})}):Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)(g.b,{children:[Object(m.jsx)(T,{path:"/"}),Object(m.jsx)(E,{path:"signUp"}),Object(m.jsx)(X,{path:"passwordReset"}),Object(m.jsx)(T,{path:"/*"})]})})};c(63);var ne=function(){return Object(m.jsxs)(f,{children:[Object(m.jsx)(C.a,{}),Object(m.jsx)(ce,{})]})},ae=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,75)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};s.a.render(Object(m.jsx)(ne,{}),document.getElementById("root")),ae()}},[[64,1,2]]]);
//# sourceMappingURL=main.d8b08fb8.chunk.js.map