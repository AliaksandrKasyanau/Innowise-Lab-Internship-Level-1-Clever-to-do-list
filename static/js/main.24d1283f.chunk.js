(this["webpackJsonpclever-to-do-list"]=this["webpackJsonpclever-to-do-list"]||[]).push([[0],{47:function(e,t,n){},48:function(e,t,n){},53:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(28),s=n.n(a),r=(n(47),n(48),n(19)),o=n.n(r),i=n(20),l=n(5),u=n(24),d=(n(36),n(39),u.a.initializeApp({apiKey:"AIzaSyDsMq2U6gbqwrNtplpyv4LrNkg7vGWpznY",authDomain:"clever-to-do-list-6868a.firebaseapp.com",databaseURL:"https://clever-to-do-list-6868a-default-rtdb.europe-west1.firebasedatabase.app",projectId:"clever-to-do-list-6868a",storageBucket:"clever-to-do-list-6868a.appspot.com",messagingSenderId:"571787972835",appId:"1:571787972835:web:e75a8b7d8f5d22012535d6"})),j=u.a.auth(),b=u.a.firestore(),h=d.firestore(),O=n(33),p=n(26),m=(n(37),function(e){p.b.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}),x=function(e){p.b.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},f=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,b.doc("users/".concat(t)).get();case 5:return n=e.sent,e.abrupt("return",Object(O.a)({uid:t},n.data()));case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching user",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(i.a)(o.a.mark((function e(t,n){var c,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return c=b.doc("users/".concat(t.uid)),e.next=5,c.get();case 5:if(e.sent.exists){e.next=16;break}return a=t.email,s=t.displayName,e.prev=8,e.next=11,c.set(Object(O.a)({displayName:s,email:a},n));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.error("Error creating user document",e.t0);case 16:return e.abrupt("return",f(t.uid));case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t,n){return e.apply(this,arguments)}}(),g=function e(t,n,c,a){return t.collection("todos").where("userId","==",n.uid).where("date","==",c).onSnapshot((function(e){a(e.docs.map((function(e){return{date:c,id:e.id,title:e.data().title,todo:e.data().todo,status:e.data().status}})))})),function(){e(t,n,c,a)}},N=n(1),k=Object(c.createContext)({user:null}),w=function(e){var t=Object(c.useState)(null),n=Object(l.a)(t,2),a=n[0],s=n[1];return Object(c.useEffect)((function(){j.onAuthStateChanged(function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:n=e.sent,s(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(N.jsx)(k.Provider,{value:a,children:e.children})},C=n(75),y=Object(c.createContext)(),S=Object(c.createContext)(),T=Object(C.a)(new Date,"dd MMMM yyyy"),E=function(e){var t=Object(c.useState)(T),n=Object(l.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(null),o=Object(l.a)(r,2),i=o[0],u=o[1];return Object(N.jsx)(S.Provider,{value:[a,s],children:Object(N.jsx)(y.Provider,{value:[i,u],children:e.children})})},D=n(12),P=n(10),M=(n(53),function(){var e=Object(P.g)(),t=Object(c.useContext)(S),n=Object(l.a)(t,1)[0],a=Object(c.useState)(""),s=Object(l.a)(a,2),r=s[0],o=s[1],i=Object(c.useState)(""),u=Object(l.a)(i,2),d=u[0],j=u[1],b=Object(c.useState)(null),O=Object(l.a)(b,2)[1],p=Object(c.useContext)(k);return Object(N.jsxs)("div",{className:"add-todo-wrapper",children:[Object(N.jsx)("h1",{children:"Create a Task"}),Object(N.jsxs)("form",{noValidate:!0,children:[Object(N.jsx)("input",{id:"todoTitle",label:"ToDo Title",placeholder:"ToDo Title",name:"todoTitle",required:!0,value:r,onChange:function(e){o(e.target.value)}}),Object(N.jsx)("textarea",{margin:"normal",required:!0,id:"todo",label:"ToDo",placeholder:"ToDo",name:"todo",value:d,onChange:function(e){j(e.target.value)}}),Object(N.jsx)("button",{className:"button",type:"submit",onClick:function(e){!function(e,t,n,c,a,s){e.preventDefault(),t.collection("todos").add({userId:n.uid,date:c,title:a,todo:s,status:!1})}(e,h,p,n,r,d),o(""),j(""),O(x("Task was created!"))},disabled:!d||!r,children:"Add Todo"}),Object(N.jsx)("button",{className:"button back-button",onClick:function(){e.push("/")},children:"Back"})]})]})});n(58);var I=function(){var e=Object(P.g)(),t=Object(c.useContext)(y),n=Object(l.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(a?a.title:""),o=Object(l.a)(r,2),i=o[0],u=o[1],d=Object(c.useState)(a?a.todo:""),j=Object(l.a)(d,2),b=j[0],O=j[1];return null==a&&e.push("/todo"),a?Object(N.jsxs)("div",{className:"todo-wrapper",children:[Object(N.jsx)("h1",{children:"Edit a Task"}),Object(N.jsxs)("form",{noValidate:!0,children:[Object(N.jsx)("input",{id:"todoTitle",label:"ToDo Title",name:"todoTitle",required:!0,defaultValue:i,onChange:function(e){u(e.target.value)}}),Object(N.jsx)("textarea",{margin:"normal",required:!0,id:"todo",label:"ToDo",placeholder:"ToDo",name:"todo",defaultValue:b,onChange:function(e){O(e.target.value)}}),Object(N.jsx)("button",{className:"button",type:"submit",onClick:function(t){!function(e,t,n,c,a,s){e.preventDefault(),t.collection("todos").doc(n.id).update({title:c,todo:a}),t.collection("todos").doc(n.id).get().then((function(e){e.exists?s({date:e.day,id:e.id,title:e.data().title,todo:e.data().todo}):console.log("No such document!")}))}(t,h,a,i,b,s),e.push("/todo"),u(""),O(""),x("Task was updated")},disabled:!b&&!i,children:"Save Changes"}),Object(N.jsx)("button",{className:"button",type:"submit",onClick:function(){e.push("/todo")},children:"Back"})]})]}):null},F=(n(59),n(41)),A=n(67);var _=function(e){var t=e.currentMonth,n=e.setCurrentMonth;return Object(N.jsxs)("div",{className:"month-wrapper",children:[Object(N.jsx)("div",{className:"arrow",children:Object(N.jsx)("div",{className:"icon",onClick:function(){n(Object(A.a)(t,1))},children:"chevron_left"})}),Object(N.jsx)("div",{children:Object(N.jsx)("span",{children:Object(C.a)(t,"MMMM yyyy")})}),Object(N.jsx)("div",{className:"arrow",onClick:function(){n(Object(F.a)(t,1))},children:Object(N.jsx)("div",{className:"icon",children:"chevron_right"})})]})},B=(n(60),n(76)),q=n(68),G=n(69),U=n(70),V=n(71),Y=n(42),L=n.n(Y);var W=function(e){var t=e.currentMonth,n=Object(c.useContext)(S),a=Object(l.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)(new Date),i=Object(l.a)(o,2),u=i[0],d=i[1];return Object(c.useEffect)((function(){document.querySelector(".selected").scrollIntoView({behavior:"smooth"})}),[]),Object(B.a)(new Date(s),u)||null===s||d(new Date(s)),Object(N.jsx)(L.a,{alignCenter:!1,scrollToSelected:!0,data:function(){for(var e=Object(q.a)(t),n=Object(q.a)(e),c=Object(G.a)(Object(U.a)(t)),a=[],s=n,o="",i=function(e){o=Object(C.a)(s,"d");var t=s;a.push(Object(N.jsxs)("div",{className:"day ".concat(Object(B.a)(s,u)?"selected":""),onClick:function(){return function(e){d(e),r(Object(C.a)(e,"dd MMMM yyyy"))}(t)},children:[Object(N.jsx)("span",{className:"number",children:o}),Object(N.jsx)("div",{className:"days",children:Object(C.a)(s,"eee")})]},s)),s=Object(V.a)(s,1)},l=0;l<c;l++)i();return a}(),menuStyle:!1})};n(61);var z=function(){var e=Object(c.useState)(new Date),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(N.jsxs)("div",{className:"calendar",children:[Object(N.jsx)(_,{currentMonth:n,setCurrentMonth:a}),Object(N.jsx)(W,{currentMonth:n})]})},R=(n(62),function(){var e=Object(c.useContext)(S),t=Object(l.a)(e,1)[0],n=Object(c.useState)([]),a=Object(l.a)(n,2),s=a[0],r=a[1],o=Object(c.useContext)(y),i=Object(l.a)(o,2)[1],u=Object(c.useContext)(k);Object(c.useEffect)((function(){g(b,u,t,r)}),[t]);var d=function(e){!function(e,t){t.collection("todos").doc(e.id).update({status:!e.status})}(e,h)};return Object(N.jsx)(N.Fragment,{children:s.length>0?Object(N.jsx)("div",{className:"todo-list-wrapper",children:Object(N.jsx)("div",{className:"todo-list",children:s.map((function(e){return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"todo",children:[Object(N.jsx)("div",{className:"status-wrapper",children:!1===e.status?Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:"icon status-unchecked",onClick:function(){d(e)},children:"radio_button_unchecked"})}):Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:"icon status-checked",onClick:function(){d(e)},children:"check_circle"})})}),!1===e.status?Object(N.jsx)(D.b,{className:"todo-link",to:"/todo",onClick:function(){i(e)},children:e.title},e.id):Object(N.jsx)(D.b,{className:"todo-link todo-link-done",to:"/todo",onClick:function(){i(e)},children:e.title},e.id)]})})}))})}):Object(N.jsx)("div",{className:"empty-list",children:Object(N.jsx)("h2",{children:"Task list is empty"})})})}),H=n(72),J=n(73),K=n(74);n(63);var Q=function(){var e=Object(P.g)(),t=Object(c.useState)(null),n=Object(l.a)(t,2)[1];return Object(N.jsxs)("div",{className:"todo-list-footer",children:[Object(N.jsxs)("button",{className:"button",onClick:function(){e.push("create-todo")},children:[Object(N.jsx)("p",{className:"icon",children:"add_circle"})," Add a New Task"]}),Object(N.jsxs)("button",{className:"button sign-out",onClick:function(){j.signOut().then((function(){n(x("You are logged off!"))}))},children:[Object(N.jsx)("p",{className:"icon",children:"logout"}),"Sign out"]})]})};var X=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(H.a,{children:Object(N.jsx)(J.a,{children:Object(N.jsxs)(K.a,{xs:12,children:[Object(N.jsx)(z,{}),Object(N.jsx)(R,{}),Object(N.jsx)(Q,{})]})})})})};n(64);var Z=function(){var e=Object(P.g)(),t=Object(c.useContext)(y),n=Object(l.a)(t,1)[0],a=function(e){!function(e){b.collection("todos").doc(e).delete().then((function(){x("Task was deleted!")}))}(e),s()};null==n&&s();var s=function(){e.push("/")};return n?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"status-wrapper-todo",children:n.status?Object(N.jsx)("div",{className:"icon status-checked",children:"check_circle "}):Object(N.jsx)("div",{className:"icon status-unchecked",children:"radio_button_unchecked"})}),Object(N.jsxs)("div",{className:"todo-wrapper",children:[Object(N.jsx)("h2",{children:n.title}),Object(N.jsx)("textarea",{rows:"5",disabled:!0,value:n.todo}),Object(N.jsx)("button",{className:"button",onClick:function(){e.push("/edit-todo")},children:"Edit Task"}),Object(N.jsx)("button",{className:"button",onClick:function(){a(n.id)},children:"Delete Task"}),Object(N.jsx)("button",{className:"button",type:"submit",onClick:s,children:"Back"})]})]}):null};var $=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(P.d,{children:[Object(N.jsx)(P.b,{path:"/edit-todo",component:I}),Object(N.jsx)(P.b,{path:"/todo",component:Z}),Object(N.jsx)(P.b,{path:"/create-todo",component:M}),Object(N.jsx)(P.b,{path:"/",component:X})]})})},ee=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(N.jsx)("div",{className:"auth-wrapper",children:Object(N.jsxs)("div",{className:"container",children:[Object(N.jsx)("div",{className:"icon",children:"autorenew"}),Object(N.jsx)("h1",{children:"Reset your Password"}),Object(N.jsxs)("div",{children:[Object(N.jsxs)("form",{className:"form",children:[Object(N.jsx)("input",{type:"email",name:"userEmail",id:"userEmail",value:n,placeholder:"Input your email",onChange:function(e){var t=e.currentTarget,n=t.name,c=t.value;"userEmail"===n&&a(c)},className:"input"}),Object(N.jsx)("button",{className:"button primary-button fp-button",onClick:function(e){!function(e,t){e.preventDefault(),j.sendPasswordResetEmail(t).then((function(){x("Email has been sent!")})).catch((function(){m("Invalid credentials")}))}(e,n),a("")},children:"Send me a reset link"})]}),Object(N.jsx)(D.b,{to:"/",className:"link",children:"\u2190 back to sign in page"})]})]})})},te=(n(65),new u.a.auth.GoogleAuthProvider),ne=function(){try{j.signInWithPopup(te)}catch(e){console.error("Error signing in with Google",e)}},ce=function(){var e=Object(i.a)(o.a.mark((function e(t,n,c,a){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,j.createUserWithEmailAndPassword(n,c);case 4:s=e.sent,r=s.user,v(r,{displayName:a}),x("Account has been created!"),x("You are logged in!"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),m("Invalid credentials!");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n,c,a){return e.apply(this,arguments)}}(),ae=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(l.a)(s,2),o=r[0],i=r[1],u=Object(P.g)(),d=function(e){var t=e.currentTarget,n=t.name,c=t.value;"userEmail"===n?a(c):"userPassword"===n&&i(c)};return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(H.a,{children:Object(N.jsx)(J.a,{children:Object(N.jsxs)(K.a,{className:"auth-wrapper",xs:12,children:[Object(N.jsx)("div",{className:"icon",children:"login"}),Object(N.jsx)("h1",{children:"Sign In"}),Object(N.jsxs)("form",{className:"form",children:[Object(N.jsx)("input",{type:"email",className:"input",name:"userEmail",value:n,placeholder:"Email",id:"userEmail",onChange:function(e){return d(e)}}),Object(N.jsx)("input",{type:"password",className:"input",name:"userPassword",value:o,placeholder:"Password",id:"userPassword",onChange:function(e){return d(e)}}),Object(N.jsx)(D.b,{to:"password-reset",className:"link",children:"Forgot Password?"}),Object(N.jsx)("button",{className:"button primary-button",onClick:function(e){!function(e,t,n){e.preventDefault(),j.signInWithEmailAndPassword(t,n).then((function(){x("You are logged in!")})).catch((function(){m("Invalid credentials!")}))}(e,n,o)},children:"Sign In"})]}),Object(N.jsxs)("button",{className:"button google-button",onClick:function(){ne(),u.push("/")},children:[" ","Sign in with Google"]}),Object(N.jsxs)("p",{children:["Don`t have an account?"," ",Object(N.jsx)(D.b,{to:"sign-up",className:"link",children:"Sign up"})," "]})]})})})})},se=function(){var e=Object(P.g)(),t=Object(c.useState)(""),n=Object(l.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),o=Object(l.a)(r,2),i=o[0],u=o[1],d=Object(c.useState)(""),j=Object(l.a)(d,2),b=j[0],h=j[1],O=function(e){var t=e.currentTarget,n=t.name,c=t.value;"userEmail"===n?s(c):"userPassword"===n?u(c):"displayName"===n&&h(c)};return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(H.a,{children:Object(N.jsx)(J.a,{children:Object(N.jsxs)(K.a,{className:"auth-wrapper",xs:12,children:[Object(N.jsx)("div",{className:"icon",children:"how_to_reg"}),Object(N.jsx)("h1",{children:"Sign Up"}),Object(N.jsxs)("form",{className:"form",children:[Object(N.jsx)("input",{type:"text",className:"input",name:"displayName",value:b,placeholder:"Your Name",id:"displayName",onChange:O}),Object(N.jsx)("input",{type:"email",className:"input",name:"userEmail",value:a,placeholder:"Email",id:"userEmail",onChange:O}),Object(N.jsx)("input",{type:"password",className:"input",name:"userPassword",value:i,placeholder:"Password",id:"userPassword",onChange:O}),Object(N.jsx)("button",{className:"button primary-button",onClick:function(t){ce(t,a,i,b),s(""),u(""),h(""),e.push("/")},children:"Sign Up"})]}),Object(N.jsx)("button",{onClick:function(){ne(),e.push("/")},className:"button google-button",children:"Sign In with Google"}),Object(N.jsxs)("p",{children:["Already have an account?"," ",Object(N.jsx)(D.b,{to:"/",className:"link",children:"Sign in here"})," "]})]})})})})};var re=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(P.d,{children:[Object(N.jsx)(P.b,{path:"/sign-in",component:ae}),Object(N.jsx)(P.b,{path:"/sign-up",component:se}),Object(N.jsx)(P.b,{path:"/password-reset",component:ee}),Object(N.jsx)(P.a,{from:"/",to:"/sign-in"})]})})};var oe=function(){return Object(c.useContext)(k)?Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(E,{children:Object(N.jsx)(D.a,{children:Object(N.jsx)($,{})})})}):Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(D.a,{children:Object(N.jsx)(re,{})})})};var ie=function(){return Object(N.jsxs)(w,{children:[Object(N.jsx)(p.a,{}),Object(N.jsx)(oe,{})]})},le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};s.a.render(Object(N.jsx)(ie,{}),document.getElementById("root")),le()}},[[66,1,2]]]);
//# sourceMappingURL=main.24d1283f.chunk.js.map