(this["webpackJsonpclever-to-do-list"]=this["webpackJsonpclever-to-do-list"]||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(24),s=n.n(a),r=(n(42),n(43),n(14)),o=n.n(r),i=n(16),l=n(3),u=n(33),d=n(17);n(30),n(32);n(46).config();var j=d.a.initializeApp({apiKey:"AIzaSyDsMq2U6gbqwrNtplpyv4LrNkg7vGWpznY",authDomain:"clever-to-do-list-6868a.firebaseapp.com",databaseURL:"https://clever-to-do-list-6868a-default-rtdb.europe-west1.firebasedatabase.app",projectId:"clever-to-do-list-6868a",storageBucket:"clever-to-do-list-6868a.appspot.com",messagingSenderId:"571787972835",appId:"1:571787972835:web:e75a8b7d8f5d22012535d6"}),b=d.a.auth(),O=d.a.firestore(),h=j.firestore(),p=n(27),x=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,O.doc("users/".concat(t)).get();case 5:return n=e.sent,e.abrupt("return",Object(p.a)({uid:t},n.data()));case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching user",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(o.a.mark((function e(t,n){var c,a,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return c=O.doc("users/".concat(t.uid)),e.next=5,c.get();case 5:if(e.sent.exists){e.next=16;break}return a=t.email,s=t.displayName,r=t.photoURL,e.prev=8,e.next=11,c.set(Object(p.a)({displayName:s,email:a,photoURL:r},n));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.error("Error creating user document",e.t0);case 16:return e.abrupt("return",x(t.uid));case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t,n){return e.apply(this,arguments)}}(),v=n(1),f=Object(c.createContext)({user:null}),g=function(e){var t=Object(u.useState)(null),n=Object(l.a)(t,2),a=n[0],s=n[1];return Object(c.useEffect)((function(){b.onAuthStateChanged(function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:n=e.sent,s(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(v.jsx)(f.Provider,{value:a,children:e.children})},C=n(7),N=(n(55),n(10)),k=n(66),w=n(67),y=n(68),S=d.a.auth(),P=new d.a.auth.GoogleAuthProvider,T=function(){S.signInWithPopup(P)},E=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(l.a)(s,2),o=r[0],i=r[1],u=Object(c.useState)(null),d=Object(l.a)(u,2)[1],j=Object(c.useState)(null),O=Object(l.a)(j,2)[1],h=function(e){var t=e.currentTarget,n=t.name,c=t.value;"userEmail"===n?a(c):"userPassword"===n&&i(c)};return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(k.a,{children:Object(v.jsx)(w.a,{children:Object(v.jsxs)(y.a,{className:"auth-wrapper",xs:12,children:[Object(v.jsx)("div",{className:"icon",children:"login"}),Object(v.jsx)("h1",{children:"Sign In"}),Object(v.jsxs)("form",{className:"form",children:[Object(v.jsx)("input",{type:"email",className:"input",name:"userEmail",value:n,placeholder:"Email",id:"userEmail",onChange:function(e){return h(e)}}),Object(v.jsx)("input",{type:"password",className:"input",name:"userPassword",value:o,placeholder:"Password",id:"userPassword",onChange:function(e){return h(e)}}),Object(v.jsx)(C.a,{to:"passwordReset",className:"link",children:"Forgot Password?"}),Object(v.jsx)("button",{className:"button primary-button",onClick:function(e){!function(e,t,n){e.preventDefault(),b.signInWithEmailAndPassword(t,n).then((function(){O(N.b.success("You are logged in!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(){d(N.b.error("Invalid credentials!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}(e,n,o)},children:"Sign In"})]}),Object(v.jsxs)("button",{className:"button google-button",onClick:function(){T()},children:[" ","Sign in with Google"]}),Object(v.jsxs)("p",{children:["Don`t have an account?"," ",Object(v.jsx)(C.a,{to:"signUp",className:"link",children:"Sign up"})," "]})]})})})})},D=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(l.a)(s,2),u=r[0],d=r[1],j=Object(c.useState)(""),O=Object(l.a)(j,2),h=O[0],p=O[1],x=Object(c.useState)(null),f=Object(l.a)(x,2)[1],g=Object(c.useState)(null),S=Object(l.a)(g,2)[1],P=Object(c.useState)(null),E=Object(l.a)(P,2)[1],D=function(){var e=Object(i.a)(o.a.mark((function e(t,n,c){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,b.createUserWithEmailAndPassword(n,c);case 4:s=e.sent,r=s.user,m(r,{displayName:h}),S(N.b.success("Account has been created!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),E(N.b.success("You are logged in!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),f(N.b.error("Invalid credentials!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 14:a(""),d(""),p(""),Object(C.d)("/");case 18:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n,c){return e.apply(this,arguments)}}(),M=function(e){var t=e.currentTarget,n=t.name,c=t.value;"userEmail"===n?a(c):"userPassword"===n?d(c):"displayName"===n&&p(c)};return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(k.a,{children:Object(v.jsx)(w.a,{children:Object(v.jsxs)(y.a,{className:"auth-wrapper",xs:12,children:[Object(v.jsx)("div",{className:"icon",children:"how_to_reg"}),Object(v.jsx)("h1",{children:"Sign Up"}),Object(v.jsxs)("form",{className:"form",children:[Object(v.jsx)("input",{type:"text",className:"input",name:"displayName",value:h,placeholder:"Your Name",id:"displayName",onChange:function(e){return M(e)}}),Object(v.jsx)("input",{type:"email",className:"input",name:"userEmail",value:n,placeholder:"Email",id:"userEmail",onChange:function(e){return M(e)}}),Object(v.jsx)("input",{type:"password",className:"input",name:"userPassword",value:u,placeholder:"Password",id:"userPassword",onChange:function(e){return M(e)}}),Object(v.jsx)("button",{className:"button primary-button",onClick:function(e){D(e,n,u)},children:"Sign Up"})]}),Object(v.jsx)("button",{onClick:function(){try{T()}catch(e){console.error("Error signing in with Google",e)}Object(C.d)("/")},className:"button google-button",children:"Sign In with Google"}),Object(v.jsxs)("p",{children:["Already have an account?"," ",Object(v.jsx)(C.a,{to:"/",className:"link",children:"Sign in here"})," "]})]})})})})},M=(n(56),n(36)),I=n(69),B=n(74);var F=function(e){var t=e.currentMonth,n=e.setCurrentMonth;return Object(v.jsxs)("div",{className:"month-wrapper",children:[Object(v.jsx)("div",{className:"arrow",children:Object(v.jsx)("div",{className:"icon",onClick:function(){n(Object(I.a)(t,1))},children:"chevron_left"})}),Object(v.jsx)("div",{children:Object(v.jsx)("span",{children:Object(B.a)(t,"MMMM yyyy")})}),Object(v.jsx)("div",{className:"arrow",onClick:function(){n(Object(M.a)(t,1))},children:Object(v.jsx)("div",{className:"icon",children:"chevron_right"})})]})},A=(n(57),n(75)),H=n(70),_=n(71),U=n(72),q=n(73),R=n(37),L=n.n(R),G=Object(c.createContext)(),V=Object(c.createContext)(),Y=Object(B.a)(new Date,"dd MMMM yyyy"),W=function(e){var t=Object(c.useState)(Y),n=Object(l.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(null),o=Object(l.a)(r,2),i=o[0],u=o[1];return Object(v.jsx)(V.Provider,{value:[a,s],children:Object(v.jsx)(G.Provider,{value:[i,u],children:e.children})})};var z=function(e){var t=e.currentMonth,n=Object(c.useContext)(V),a=Object(l.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)(new Date),i=Object(l.a)(o,2),u=i[0],d=i[1];return Object(c.useEffect)((function(){document.querySelector(".selected").scrollIntoView({behavior:"smooth"})}),[]),Object(A.a)(new Date(s),u)||null===s||d(new Date(s)),Object(v.jsx)(L.a,{alignCenter:!1,scrollToSelected:!0,data:function(){for(var e=Object(H.a)(t),n=Object(H.a)(e),c=Object(_.a)(Object(U.a)(t)),a=[],s=n,o="",i=function(e){o=Object(B.a)(s,"d");var t=s;a.push(Object(v.jsxs)("div",{className:"day ".concat(Object(A.a)(s,u)?"selected":""),onClick:function(){return function(e){d(e),r(Object(B.a)(e,"dd MMMM yyyy"))}(t)},children:[Object(v.jsx)("span",{className:"number",children:o}),Object(v.jsx)("div",{className:"days",children:Object(B.a)(s,"eee")})]},s)),s=Object(q.a)(s,1)},l=0;l<c;l++)i();return a}(),menuStyle:!1})};n(58);var J=function(){var e=Object(c.useState)(new Date),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(v.jsxs)("div",{className:"calendar",children:[Object(v.jsx)(F,{currentMonth:n,setCurrentMonth:a}),Object(v.jsx)(z,{currentMonth:n})]})},K=(n(59),function(){var e=Object(c.useContext)(V),t=Object(l.a)(e,1)[0],n=Object(c.useState)([]),a=Object(l.a)(n,2),s=a[0],r=a[1],o=Object(c.useContext)(G),i=Object(l.a)(o,2)[1],u=Object(c.useContext)(f);Object(c.useEffect)((function(){var e=O.collection("todos").where("userId","==",u.uid).where("date","==",t).onSnapshot((function(e){r(e.docs.map((function(e){return{date:t,id:e.id,title:e.data().title,todo:e.data().todo,status:e.data().status}})))}));return function(){e()}}),[t]);var d=function(e){h.collection("todos").doc(e.id).update({status:!e.status})};return Object(v.jsx)(v.Fragment,{children:s.length>0?Object(v.jsx)("div",{className:"todo-list-wrapper",children:Object(v.jsx)("div",{className:"todo-list",children:s.map((function(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"todo",children:[Object(v.jsx)("div",{className:"status-wrapper",children:!1===e.status?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"icon status-unchecked",onClick:function(){d(e)},children:"radio_button_unchecked"})}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"icon status-checked",onClick:function(){d(e)},children:"check_circle"})})}),!1===e.status?Object(v.jsx)(C.a,{className:"todo-link",to:"todo",onClick:function(){i(e)},children:e.title},e.id):Object(v.jsx)(C.a,{className:"todo-link todo-link-done",to:"todo",onClick:function(){i(e)},children:e.title},e.id)]})})}))})}):Object(v.jsx)("div",{className:"empty-list",children:Object(v.jsx)("h2",{children:"Task list is empty"})})})});n(60);var Q=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2)[1];return Object(v.jsxs)("div",{className:"todo-list-footer",children:[Object(v.jsxs)("button",{className:"button",onClick:function(){Object(C.d)("add-todo")},children:[Object(v.jsx)("p",{className:"icon",children:"add_circle"})," Add a New Task"]}),Object(v.jsxs)("button",{className:"button sign-out",onClick:function(){b.signOut().then((function(){t(N.b.success("You are logged off!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},children:[Object(v.jsx)("p",{className:"icon",children:"logout"}),"Sign out"]})]})};var X=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(k.a,{children:Object(v.jsx)(w.a,{children:Object(v.jsxs)(y.a,{xs:12,children:[Object(v.jsx)(J,{}),Object(v.jsx)(K,{}),Object(v.jsx)(Q,{})]})})})})},Z=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(null),r=Object(l.a)(s,2)[1],o=Object(c.useState)(null),i=Object(l.a)(o,2)[1];return Object(v.jsx)("div",{className:"auth-wrapper",children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("div",{className:"icon",children:"autorenew"}),Object(v.jsx)("h1",{children:"Reset your Password"}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("form",{className:"form",children:[Object(v.jsx)("input",{type:"email",name:"userEmail",id:"userEmail",value:n,placeholder:"Input your email",onChange:function(e){var t=e.currentTarget,n=t.name,c=t.value;"userEmail"===n&&a(c)},className:"input"}),Object(v.jsx)("button",{className:"button primary-button fp-button",onClick:function(e){!function(e){e.preventDefault(),b.sendPasswordResetEmail(n).then((function(){r(N.b.success("Email has been sent!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),setTimeout((function(){r(null)}),5e3)})).catch((function(){i(N.b.error("Invalid credentials"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}(e)},children:"Send me a reset link"})]}),Object(v.jsx)(C.a,{to:"/",className:"link",children:"\u2190 back to sign in page"})]})]})})};n(61);var $=function(){var e=Object(c.useContext)(G),t=Object(l.a)(e,1)[0],n=Object(c.useState)(null),a=Object(l.a)(n,2)[1];return null==t&&Object(C.d)(-1),t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"status-wrapper-todo",children:t.status?Object(v.jsx)("div",{className:"icon status-checked",children:"check_circle "}):Object(v.jsx)("div",{className:"icon status-unchecked",children:"radio_button_unchecked"})}),Object(v.jsxs)("div",{className:"todo-wrapper",children:[Object(v.jsx)("h2",{children:t.title}),Object(v.jsx)("textarea",{rows:"5",disabled:!0,value:t.todo}),Object(v.jsx)("button",{className:"button",onClick:function(){Object(C.d)("edit-todo")},children:"Edit Task"}),Object(v.jsx)("button",{className:"button",onClick:function(){var e;e=t.id,O.collection("todos").doc(e).delete().then((function(){a(N.b.success("Task was deleted!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})),Object(C.d)(-1)},children:"Delete Task"}),Object(v.jsx)("button",{className:"button",type:"submit",onClick:function(){Object(C.d)(-1)},children:"Back"})]})]}):null},ee=(n(62),function(){var e=Object(c.useContext)(V),t=Object(l.a)(e,1)[0],n=Object(c.useState)(""),a=Object(l.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)(""),i=Object(l.a)(o,2),u=i[0],d=i[1],j=Object(c.useState)(null),b=Object(l.a)(j,2)[1],O=Object(c.useContext)(f);return Object(v.jsxs)("div",{className:"add-todo-wrapper",children:[Object(v.jsx)("h1",{children:"Create a Task"}),Object(v.jsxs)("form",{noValidate:!0,children:[Object(v.jsx)("input",{id:"todoTitle",label:"ToDo Title",placeholder:"ToDo Title",name:"todoTitle",required:!0,value:s,onChange:function(e){return r(e.target.value)}}),Object(v.jsx)("textarea",{margin:"normal",required:!0,id:"todo",label:"ToDo",placeholder:"ToDo",name:"todo",value:u,onChange:function(e){return d(e.target.value)}}),Object(v.jsx)("button",{className:"button",type:"submit",onClick:function(e){e.preventDefault(),h.collection("todos").add({userId:O.uid,date:t,title:s,todo:u,status:!1}),r(""),d(""),b(N.b.success("Task was created!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},disabled:!u||!s,children:"Add Todo"}),Object(v.jsx)("button",{className:"button back-button",onClick:function(){return Object(C.d)("/")},children:"Back"})]})]})});var te=function(){var e=Object(c.useContext)(G),t=Object(l.a)(e,1)[0];return console.log(t),Object(v.jsx)("div",{className:"todo-wrapper",children:Object(v.jsx)(ee,{})})};n(63);var ne=function(){var e=Object(c.useContext)(G),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(n?n.title:""),r=Object(l.a)(s,2),o=r[0],i=r[1],u=Object(c.useState)(n?n.todo:""),d=Object(l.a)(u,2),j=d[0],b=d[1],O=Object(c.useState)(null),p=Object(l.a)(O,2)[1];return null==n&&Object(C.d)(-1),n?Object(v.jsxs)("div",{className:"todo-wrapper",children:[Object(v.jsx)("h1",{children:"Edit a Task"}),Object(v.jsxs)("form",{noValidate:!0,children:[Object(v.jsx)("input",{id:"todoTitle",label:"ToDo Title",name:"todoTitle",required:!0,defaultValue:o,onChange:function(e){return i(e.target.value)}}),Object(v.jsx)("textarea",{margin:"normal",required:!0,id:"todo",label:"ToDo",placeholder:"ToDo",name:"todo",defaultValue:j,onChange:function(e){return b(e.target.value)}}),Object(v.jsx)("button",{className:"button",type:"submit",onClick:function(e){e.preventDefault(),h.collection("todos").doc(n.id).update({title:o,todo:j}),h.collection("todos").doc(n.id).get().then((function(e){e.exists?a({date:e.day,id:e.id,title:e.data().title,todo:e.data().todo}):console.log("No such document!")})),Object(C.d)(-1),i(""),b(""),p((N.b.success("Task was updated!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}))},disabled:!j&&!o,children:"Save Changes"}),Object(v.jsx)("button",{className:"button",type:"submit",onClick:function(){Object(C.d)(-1)},children:"Sheduler"})]})]}):null};var ce=function(){return Object(c.useContext)(f)?Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(W,{children:Object(v.jsxs)(C.c,{children:[Object(v.jsx)(C.b,{from:"*",to:"/"}),Object(v.jsx)(X,{path:"/"}),Object(v.jsx)($,{path:"todo"}),Object(v.jsx)(te,{path:"add-todo"}),Object(v.jsx)(ne,{path:"edit-todo"})]})})}):Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)(C.c,{children:[Object(v.jsx)(E,{path:"/"}),Object(v.jsx)(D,{path:"signUp"}),Object(v.jsx)(Z,{path:"passwordReset"})]})})};n(64);var ae=function(){return Object(v.jsxs)(g,{children:[Object(v.jsx)(N.a,{}),Object(v.jsx)(ce,{})]})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};s.a.render(Object(v.jsx)(ae,{}),document.getElementById("root")),se()}},[[65,1,2]]]);
//# sourceMappingURL=main.62bbdab1.chunk.js.map